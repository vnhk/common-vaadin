/**
 * Bervan Navigation - Pill Tabs with Glassmorphism
 * Modern navigation component styling - uses theme variables
 */

/* ===== Navigation Container ===== */
.menu-container {
    display: flex;
    align-items: center;
    gap: var(--bervan-spacing-sm, 8px);
    padding: var(--bervan-spacing-sm, 8px);

    /* Glassmorphism effect - use theme variables */
    background: var(--glass-bg, var(--bervan-glass-bg, rgba(17, 25, 40, 0.75)));
    backdrop-filter: blur(var(--glass-blur, var(--bervan-glass-blur, 16px)));
    -webkit-backdrop-filter: blur(var(--glass-blur, var(--bervan-glass-blur, 16px)));
    box-shadow: var(--glass-shadow, var(--bervan-glass-shadow));

    /* Positioning */
    margin: var(--bervan-spacing-sm, 8px) auto;
    width: fit-content;
}

/* ===== Navigation Button (Pill Style) ===== */
.navigation-button {
    /* Reset Vaadin button styles */
    all: unset;
    box-sizing: border-box;

    /* Pill shape */
    display: inline-flex;
    align-items: center;
    gap: var(--bervan-spacing-sm, 8px);
    padding: var(--bervan-spacing-sm, 8px) var(--bervan-spacing-md, 16px);
    border-radius: var(--bervan-border-radius-full, 9999px);

    /* Typography */
    font-family: var(--bervan-font-family);
    font-size: var(--bervan-font-size-sm, 0.875rem);
    font-weight: var(--bervan-font-weight-medium, 500);
    color: var(--navigation-button-color, var(--glass-text-secondary, var(--bervan-text-secondary)));
    white-space: nowrap;

    /* Interaction */
    cursor: pointer;
    transition: all var(--bervan-transition-fast, 150ms);

    /* Background */
    background: transparent;
    border: none;
}

.navigation-button:hover {
    color: var(--glass-text-primary, var(--bervan-text-primary));
    background: var(--glass-btn-hover-bg, var(--bervan-surface-hover));
}

.navigation-button:active {
    transform: scale(0.98);
}

/* ===== Selected/Active Button ===== */
.navigation-button.selected-route-button {
    color: var(--glass-nav-selected-text, white);
    background: var(--glass-nav-selected-bg, var(--bervan-primary));
    box-shadow: var(--glass-nav-selected-glow, 0 2px 8px rgba(var(--bervan-primary-rgb), 0.4));
}

.navigation-button.selected-route-button:hover {
    background: var(--glass-nav-selected-hover, var(--bervan-primary-hover));
    box-shadow: var(--glass-nav-selected-glow-hover, 0 4px 12px rgba(var(--bervan-primary-rgb), 0.5));
}

/* ===== Button Icon Styling ===== */
.navigation-button vaadin-icon,
.navigation-button iron-icon,
.navigation-button [slot="prefix"] {
    width: var(--bervan-icon-size, 18px);
    height: var(--bervan-icon-size, 18px);
    flex-shrink: 0;
    color: var(--lumo-primary-color) !important;
}

.navigation-button.selected-route-button vaadin-icon,
.navigation-button.selected-route-button iron-icon {
    color: var(--glass-nav-selected-text, white) !important;
}

/* ===== Vaadin Button Overrides ===== */
.navigation-button::part(label) {
    display: flex;
    align-items: center;
    gap: var(--bervan-spacing-sm, 8px);
}

/* Remove Vaadin's default button styling */
vaadin-button.navigation-button {
    background: transparent;
    border: none;
    box-shadow: none;
    min-width: auto;
    padding: var(--bervan-spacing-sm, 8px) var(--bervan-spacing-md, 16px);
    border-radius: var(--bervan-border-radius-full, 9999px);
    color: var(--navigation-button-color, var(--glass-text-secondary, var(--bervan-text-secondary)));
    font-weight: var(--bervan-font-weight-medium, 500);
    transition: all var(--bervan-transition-fast, 150ms);
}

vaadin-button.navigation-button:hover {
    background: var(--glass-btn-hover-bg, var(--bervan-surface-hover));
    color: var(--glass-text-primary, var(--bervan-text-primary));
}

vaadin-button.navigation-button.selected-route-button {
    background: var(--glass-nav-selected-bg, var(--bervan-primary));
    color: var(--glass-nav-selected-text, white);
    box-shadow: var(--glass-nav-selected-glow, 0 2px 8px rgba(var(--bervan-primary-rgb), 0.4));
}

vaadin-button.navigation-button.selected-route-button:hover {
    background: var(--glass-nav-selected-hover, var(--bervan-primary-hover));
}

/* ===== Focus States (Accessibility) ===== */
.navigation-button:focus-visible {
    outline: 2px solid var(--bervan-accent);
    outline-offset: 2px;
}

/* ===== Responsive: Compact mode on smaller screens ===== */
@media (max-width: 768px) {
    .menu-container {
        padding: var(--bervan-spacing-xs, 4px);
        gap: var(--bervan-spacing-xs, 4px);
        border-radius: var(--bervan-border-radius-lg, 12px);
        flex-wrap: wrap;
        justify-content: center;
    }

    .navigation-button,
    vaadin-button.navigation-button {
        padding: var(--bervan-spacing-xs, 4px) var(--bervan-spacing-sm, 8px);
        font-size: var(--bervan-font-size-xs, 0.75rem);
    }

    /* Hide text, show only icons on very small screens */
    @media (max-width: 480px) {
        .navigation-button span:not(:empty),
        vaadin-button.navigation-button span:not(:empty) {
            display: none;
        }

        .navigation-button,
        vaadin-button.navigation-button {
            padding: var(--bervan-spacing-sm, 8px);
        }
    }
}

/* ===== Animation: Subtle entrance ===== */
@keyframes nav-fade-in {
    from {
        opacity: 0;
        transform: translateY(-10px);
    }
    to {
        opacity: 1;
        transform: translateY(0);
    }
}

.menu-container {
    animation: nav-fade-in var(--bervan-transition-normal, 250ms) ease-out;
}

/* ===== Badge support (optional notification count) ===== */
.navigation-button .nav-badge {
    display: inline-flex;
    align-items: center;
    justify-content: center;
    min-width: 18px;
    height: 18px;
    padding: 0 var(--bervan-spacing-xs, 4px);
    font-size: 0.7rem;
    font-weight: var(--bervan-font-weight-bold, 700);
    color: white;
    background: var(--bervan-danger);
    border-radius: var(--bervan-border-radius-full, 9999px);
    margin-left: var(--bervan-spacing-xs, 4px);
}

.navigation-button.selected-route-button .nav-badge {
    background: white;
    color: var(--glass-primary, var(--bervan-primary));
}
